<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MEXICAN CORNBREAD'S MINECRAFT ANARCHY SERVER (1.16.5)</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Press Start 2P', cursive;
    background-color: #fdf6e3;
    color: #c0392b;
    margin: 0;
    padding: 20px;
    display: flex;
    flex-direction: row;
    justify-content: space-around;
    flex-wrap: wrap;
  }
  #left, #right { padding: 10px; }
  #left {
    flex: 1;
    min-width: 300px;
    max-width: 600px;
    text-align: center;
  }
  h1 { font-size: 24px; margin: 10px 0; }
  #serverIP { font-size: 18px; margin: 5px 0; }
  #recipe {
    font-family: 'Comic Sans MS', cursive;
    font-size: 16px;
    color: black;
    text-align: left;
    background-color: #fff8e1;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    border: 3px solid red;
    margin-top: 20px;
  }
  img {
    height: auto;
    border-radius: 10px;
    border: 3px solid red;
    transition: transform 0.2s;
    display: block;
    margin: 10px auto;
  }
  img:hover { transform: scale(1.05); }
  #right {
    flex: 0 0 400px;
    background-color: #fff8e1;
    border-radius: 10px;
    padding: 20px;
    margin-left: 20px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    text-align: center;
    border: 3px solid red;
    min-width: 300px;
  }
  #cornbreadCounter { font-size: 18px; margin-bottom: 5px; }
  #cpsCounter { font-size: 14px; margin-bottom: 20px; }
  .upgradeButton {
    display: block;
    margin: 5px auto;
    padding: 10px;
    font-size: 14px;
    font-family: 'Comic Sans MS', cursive;
    color: black;
    width: 90%;
    cursor: pointer;
    border-radius: 5px;
    border: 2px solid #c0392b;
    background-color: #fdf6e3;
    transition: 0.2s;
  }
  .upgradeButton:hover:not(:disabled){ background-color: #c0392b; color:white; }
  .upgradeButton:disabled{ opacity:0.5; cursor:not-allowed; }
  #aiChatTab {
    display:none;
    position:fixed;
    top:50px;
    right:20px;
    width:300px;
    background:#fff8e1;
    border:3px solid red;
    border-radius:10px;
    padding:10px;
    box-shadow:0 2px 6px rgba(0,0,0,0.2);
    z-index:100;
  }
  #chatContent { display:none; font-family:'Comic Sans MS', cursive; font-size:14px; color:black; }
  #chatLog { height:200px; overflow-y:auto; border:1px solid #c0392b; padding:5px; margin-bottom:5px; background:white; }
  #chatInput { width:calc(100% - 10px); padding:5px; font-family:'Comic Sans MS', cursive; font-size:14px; }
  @media(max-width:800px){
    body{ flex-direction: column; align-items:center; }
    #right{ margin-left:0; margin-top:20px; }
  }
</style>
</head>
<body>

<div id="left">
  <h1>MEXICAN CORNBREAD'S MINECRAFT ANARCHY SERVER (1.16.5)</h1>
  <h2 id="serverIP">Server IP: gangrene.mexicancornbread.org</h2>
  <p>Status: <span id="status">Loading...</span></p>
  <p>Players: <span id="players">0 / 0</span></p>

  <!-- Center Cornbread Image CLICKABLE, original size -->
  <a href="https://southernbite.com/moms-mexican-cornbread-the-national-cornbread-cook-off/" target="_blank">
    <img src="https://southernbite.com/wp-content/uploads/2024/01/Moms-Mexican-Cornbread-5.jpg" alt="Cornbread" width="300">
  </a>

  <!-- Shoenice GIF -->
  <img src="https://i.makeagif.com/media/2-13-2016/rp3rhn.gif" alt="Animated Cornbread GIF 1" width="300">

  <!-- Pink Guy GIF resized to match Shoenice GIF -->
  <img src="https://64.media.tumblr.com/0975771a0de36698e06cf2d2a0ce4b3b/tumblr_ml8ihl8v1B1s4rkemo4_250.gif" alt="Animated Cornbread GIF 2" width="300">

  <div id="recipe">
    <h3>Ingredients</h3>
    <ul>
      <li>1/2 pound ground beef</li>
      <li>1 large onion, chopped</li>
      <li>3 tablespoons vegetable oil</li>
      <li>1 cup self-rising cornmeal</li>
      <li>1 cup buttermilk</li>
      <li>1 (14.75 oz) can cream style corn</li>
      <li>2 eggs well beaten</li>
      <li>1 (4 oz) can sliced jalapenos, drained (optional)</li>
      <li>1 cup shredded cheddar cheese</li>
    </ul>
    <h3>Instructions</h3>
    <p>...Full instructions here...</p>
  </div>
</div>

<div id="right">
  <h2>Cornbread Clicker</h2>
  <p id="cornbreadCounter">Cornbread: 0</p>
  <p id="cpsCounter">Cornbread/sec: 0</p>
  <img id="clickCornbread" src="https://southernbite.com/wp-content/uploads/2024/01/Moms-Mexican-Cornbread-5.jpg" alt="Click Cornbread" width="150">
  <div id="upgrades"></div>
</div>

<div id="aiChatTab">
  <button id="toggleAIChat">Toggle AI Study Chat</button>
  <div id="chatContent">
    <div id="chatLog"></div>
    <input type="text" id="chatInput" placeholder="Ask a question...">
    <button id="sendChat">Send</button>
  </div>
</div>

<script>
// --- Server Status ---
async function updateStatus() {
  const ip = "gangrene.mexicancornbread.org";
  const url = `https://api.mcsrvstat.us/2/${ip}`;
  try {
    const response = await fetch(url);
    const data = await response.json();
    document.getElementById("status").textContent = data.online ? "Online" : "Offline";
    document.getElementById("players").textContent =
      data.players?.online != null && data.players?.max != null
      ? `${data.players.online} / ${data.players.max}`
      : "0 / 0";
  } catch { document.getElementById("status").textContent = "Error"; }
}
updateStatus(); setInterval(updateStatus,30000);

// --- Cornbread Clicker ---
let cornbread = Number(localStorage.getItem('cornbread')) || 0;
let clickValue = Number(localStorage.getItem('clickValue')) || 1;

let upgrades = [
  {name:"Click Upgrade",type:"click",value:1,cost:10},
  {name:"Ultra Click",type:"click",value:10,cost:1000},
  {name:"Auto Cornbread",type:"auto",value:1,cost:50},
  {name:"Cornbread Factory",type:"auto",value:5,cost:500},
  {name:"Mega Click",type:"click",value:50,cost:5000},
  {name:"Cornbread Farm",type:"auto",value:25,cost:2500},
  {name:"Super Click",type:"click",value:100,cost:10000},
  {name:"Cornbread Mill",type:"auto",value:100,cost:10000},
  {name:"Ultra Factory",type:"auto",value:500,cost:50000},
  {name:"Ultimate Click",type:"click",value:500,cost:50000},
  {name:"Cornbread Empire",type:"auto",value:1000,cost:100000},
  {name:"Hyper Click",type:"click",value:1000,cost:100000},
];

const counter = document.getElementById("cornbreadCounter");
const cpsCounter = document.getElementById("cpsCounter");
const upgradesDiv = document.getElementById("upgrades");
const clickCornbread = document.getElementById("clickCornbread");

function updateCounter() {
  counter.textContent = `Cornbread: ${cornbread}`;
  const totalCPS = upgrades.filter(u => u.type === "auto").reduce((sum,u)=>sum+u.value,0);
  cpsCounter.textContent = `Cornbread/sec: ${totalCPS}`;

  upgradesDiv.innerHTML = "";
  upgrades.forEach((u,i)=>{
    const btn=document.createElement("button");
    btn.className="upgradeButton";
    btn.disabled=cornbread<u.cost;
    btn.textContent=u.type==="auto"?`${u.name} (+${u.value}/sec) - Cost: ${u.cost}`:`${u.name} (+${u.value} per click) - Cost: ${u.cost}`;
    btn.onclick=()=>buyUpgrade(i);
    upgradesDiv.appendChild(btn);
  });

  localStorage.setItem('cornbread',cornbread);
  localStorage.setItem('clickValue',clickValue);
}

function buyUpgrade(i){
  const u=upgrades[i];
  if(cornbread>=u.cost){
    cornbread-=u.cost;
    if(u.type==="click"){ clickValue+=u.value; u.value*=2; }
    else{ u.value*=2; }
    u.cost=Math.floor(u.cost*1.5);
    updateCounter();
  }
}

clickCornbread.onclick=()=>{ cornbread+=clickValue; updateCounter(); };
setInterval(()=>{ upgrades.forEach(u=>{ if(u.type==="auto") cornbread+=u.value; }); updateCounter(); },1000);
updateCounter();

// --- AI Chat ---
const aiChatTab=document.getElementById("aiChatTab");
const toggleAIChat=document.getElementById("toggleAIChat");
const chatContent=document.getElementById("chatContent");
const chatLog=document.getElementById("chatLog");
const chatInput=document.getElementById("chatInput");
const sendChat=document.getElementById("sendChat");

toggleAIChat.addEventListener("click",()=>{ chatContent.style.display=chatContent.style.display==="none"?"block":"none"; });

setInterval(()=>{ const ultra=upgrades.find(u=>u.name==="Ultra Click"); if(ultra.value>10) aiChatTab.style.display="block"; },1000);

let chatHistory=JSON.parse(localStorage.getItem('chatHistory')||'[]');

async function sendMessage(msg){
  if(!msg) return;
  chatHistory.push({role:'user',content:msg});
  const loadingDiv=document.createElement('div');
  loadingDiv.textContent="AI is thinking...";
  chatLog.appendChild(loadingDiv);
  chatLog.scrollTop=chatLog.scrollHeight;

  try{
    const resp=await fetch('broken-pine-f57b.sharpmason233.workers.dev',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({messages:chatHistory})});
    const data=await resp.json();
    chatHistory.push({role:'assistant',content:data.reply});
    localStorage.setItem('chatHistory',JSON.stringify(chatHistory));
    loadingDiv.remove();
    const userDiv=document.createElement('div'); userDiv.textContent='You: '+msg; userDiv.style.fontWeight='bold';
    const botDiv=document.createElement('div'); botDiv.textContent='AI: '+data.reply;
    chatLog.appendChild(userDiv); chatLog.appendChild(botDiv);
    chatLog.scrollTop=chatLog.scrollHeight;
  } catch(err){ console.error(err); loadingDiv.textContent="Error contacting AI bot."; }
}

sendChat.addEventListener('click',()=>{ const msg=chatInput.value.trim(); if(msg==='') return; sendMessage(msg); chatInput.value=''; });
chatInput.addEventListener('keypress',e=>{ if(e.key==='Enter') sendChat.click(); });

// --- Make AI Chat Draggable ---
dragElement(aiChatTab,toggleAIChat);
function dragElement(elmnt,header){ let pos1=0,pos2=0,pos3=0,pos4=0; if(header){ header.style.cursor="move"; header.onmousedown=dragMouseDown; } else { elmnt.onmousedown=dragMouseDown; }
  function dragMouseDown(e){ e=e||window.event; e.preventDefault(); pos3=e.clientX; pos4=e.clientY; document.onmouseup=closeDragElement; document.onmousemove=elementDrag; }
  function elementDrag(e){ e=e||window.event; e.preventDefault(); pos1=pos3-e.clientX; pos2=pos4-e.clientY; pos3=e.clientX; pos4=e.clientY; elmnt.style.top=(elmnt.offsetTop-pos2)+"px"; elmnt.style.left=(elmnt.offsetLeft-pos1)+"px"; }
  function closeDragElement(){ document.onmouseup=null; document.onmousemove=null; }
}
</script>
</body>
</html>





